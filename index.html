<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>Para mi Chula</title>
<style>
html, body {
    margin: 0;
    padding: 0;
    background: black;
    color: #ffb6c1;
    font-family: 'Courier New', monospace;
    overflow: hidden;
}

canvas {
    display: block;
}
#content {
    position: absolute;
    bottom: 5%;
    width: 100%;
    text-align: center;
}
#title {
    font-size: 24px;
    margin-bottom: 8px;
}
#counter {
    font-size: 18px;
    margin-bottom: 18px;
    color: white;
}
.type {
    font-size: 26px;
    color: #ff69b4;
    white-space: nowrap;
    overflow: hidden;
    border-right: 3px solid #ff69b4;
    width: 0;
    margin: 10px auto;
}
/* LOS QUIERO MUCHO */
#love {
    animation:
        typing1 3.5s steps(22, end) forwards,
        blink .7s infinite;
}

/* FOLLOWME AMIGOS :D */
/* BY: JESUS CABRERA */
#valentin {
    animation:
        typing2 4.5s steps(32, end) forwards,
        blink .7s infinite;
    animation-delay: 3.8s;
}

@keyframes typing1 {
    from { width: 0; }
    to { width: 420px; }
}

@keyframes typing2 {
    from { width: 0; }
    to { width: 600px; }
}

@keyframes blink {
    50% { border-color: transparent; }
}

</style>
</head>
<body>

<canvas id="canvas"></canvas>

<div id="content">
    <div id="title">Mi amor por ti comenzó hace...</div>
    <div id="counter"></div>

    <div class="type" id="love">Te amo mucho mi chula</div>
    <div class="type" id="valentin">¿Quieres ser mi San Valentin?</div>
</div>

<script>
// siganme :D
const startDate = new Date(2022, 3, 26, 0, 0, 0); 

function updateCounter() {
    const now = new Date();

    let years = now.getFullYear() - startDate.getFullYear();
    let months = now.getMonth() - startDate.getMonth();
    let days = now.getDate() - startDate.getDate();

    if (days < 0) {
        months--;
        const lastMonth = new Date(now.getFullYear(), now.getMonth(), 0);
        days += lastMonth.getDate();
    }

    if (months < 0) {
        years--;
        months += 12;
    }

    let hours = now.getHours() - startDate.getHours();
    let minutes = now.getMinutes() - startDate.getMinutes();
    let seconds = now.getSeconds() - startDate.getSeconds();

    if (seconds < 0) {
        seconds += 60;
        minutes--;
    }
    if (minutes < 0) {
        minutes += 60;
        hours--;
    }
    if (hours < 0) {
        hours += 24;
        days--;
    }

    document.getElementById("counter").innerHTML =
        `${years} años, ${months} meses, ${days} días<br>
         ${hours} horas, ${minutes} minutos y ${seconds} segundos`;
}

setInterval(updateCounter, 1000);
updateCounter();


const canvas = document.getElementById("canvas");
const ctx = canvas.getContext("2d");
canvas.width = window.innerWidth;
canvas.height = window.innerHeight;

let hearts = [];

function heart(x, y, size, speed) {
    this.x = x;
    this.y = y;
    this.size = size;
    this.speed = speed;
}

function drawHeart(h) {
    ctx.fillStyle = "rgba(255,105,180,0.8)";
    ctx.beginPath();
    ctx.moveTo(h.x, h.y);
    ctx.bezierCurveTo(h.x - h.size, h.y - h.size,
                      h.x - h.size * 2, h.y + h.size / 3,
                      h.x, h.y + h.size * 2);
    ctx.bezierCurveTo(h.x + h.size * 2, h.y + h.size / 3,
                      h.x + h.size, h.y - h.size,
                      h.x, h.y);
    ctx.fill();
}

function createHearts() {
    hearts = [];
    for (let i = 0; i < 350; i++) {
        hearts.push(new heart(
            Math.random() * canvas.width,
            Math.random() * canvas.height,
            Math.random() * 4 + 2,
            Math.random() * 0.6 + 0.2
        ));
    }
}

function animate() {
    ctx.clearRect(0, 0, canvas.width, canvas.height);
    hearts.forEach(h => {
        h.y -= h.speed;
        if (h.y < 0) h.y = canvas.height;
        drawHeart(h);
    });
    requestAnimationFrame(animate);
}

createHearts();
animate();

window.onresize = () => {
    canvas.width = window.innerWidth;
    canvas.height = window.innerHeight;
    createHearts();
};
</script>

</body>
</html>
